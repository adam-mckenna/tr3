---
import Layout from "@layouts/Article.astro";
import { Article } from "@utils/contentful";
import { contentfulClient } from "@utils/contentful";

export const getStaticPaths = async () => {
  const { items } = await contentfulClient.getEntries<Article>({
    content_type: "article",
  });
  return items.map(({ fields }: { fields: { slug: string } }) => ({
    params: { slug: fields.slug },
    props: {
      ...fields,
    },
  }));
};
---

<Layout {...Astro.props} />
